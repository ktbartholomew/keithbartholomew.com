/*!
 * jQuery UI Resizable @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */

(function(e,r){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],
_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=
!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,
display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=c.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var a=this.handles.split(",");this.handles=
{};for(var d=0;d<a.length;d++){var f=e.trim(a[d]),g=e('<div class="ui-resizable-handle ui-resizable-'+f+'"></div>');g.css({zIndex:c.zIndex});"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g)}}this._renderAxis=function(a){a=a||this.element;for(var b in this.handles){this.handles[b].constructor==String&&(this.handles[b]=e(this.handles[b],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var c=
e(this.handles[b],this.element),d=0,d=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),c=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join("");a.css(c,d);this._proportionallyResize()}e(this.handles[b])}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=
a&&a[1]?a[1]:"se"}});c.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(e(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(e(this).addClass("ui-resizable-autohide"),b._handles.hide())}));this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(a){e(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var c=!1,a;for(a in this.handles)e(this.handles[a])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var c=this.options,a=this.element.position(),
d=this.element;this.resizing=!0;this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()};(d.is(".ui-draggable")||/absolute/.test(d.css("position")))&&d.css({position:"absolute",top:a.top,left:a.left});this._renderProxy();var a=n(this.helper.css("left")),f=n(this.helper.css("top"));c.containment&&(a+=e(c.containment).scrollLeft()||0,f+=e(c.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:a,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:
{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:a,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"==typeof c.aspectRatio?c.aspectRatio:this.originalSize.width/this.originalSize.height||1;c=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",
"auto"==c?this.axis+"-resize":c);d.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var c=this.helper,a=this.originalMousePosition,d=this._change[this.axis];if(!d)return!1;a=d.apply(this,[b,b.pageX-a.left||0,b.pageY-a.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)a=this._updateRatio(a,b);a=this._respectSize(a,b);this._propagate("resize",b);c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(a);this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options;if(this._helper){var a=this._proportionallyResizeElements,d=a.length&&/textarea/i.test(a[0].nodeName),a=d&&e.ui.hasScroll(a[0],"left")?0:this.sizeDiff.height,d=d?0:this.sizeDiff.width,d={width:this.helper.width()-d,height:this.helper.height()-a},a=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,f=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;c.animate||this.element.css(e.extend(d,{top:f,left:a}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!c.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(b){var c=
this.options,a,d,e,c={minWidth:m(c.minWidth)?c.minWidth:0,maxWidth:m(c.maxWidth)?c.maxWidth:Infinity,minHeight:m(c.minHeight)?c.minHeight:0,maxHeight:m(c.maxHeight)?c.maxHeight:Infinity};if(this._aspectRatio||b)b=c.minHeight*this.aspectRatio,d=c.minWidth/this.aspectRatio,a=c.maxHeight*this.aspectRatio,e=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),d>c.minHeight&&(c.minHeight=d),a<c.maxWidth&&(c.maxWidth=a),e<c.maxHeight&&(c.maxHeight=e);this._vBoundaries=c},_updateCache:function(b){this.offset=
this.helper.offset();m(b.left)&&(this.position.left=b.left);m(b.top)&&(this.position.top=b.top);m(b.height)&&(this.size.height=b.height);m(b.width)&&(this.size.width=b.width)},_updateRatio:function(b,c){var a=this.position,d=this.size,e=this.axis;m(b.height)?b.width=b.height*this.aspectRatio:m(b.width)&&(b.height=b.width/this.aspectRatio);"sw"==e&&(b.left=a.left+(d.width-b.width),b.top=null);"nw"==e&&(b.top=a.top+(d.height-b.height),b.left=a.left+(d.width-b.width));return b},_respectSize:function(b,
c){var a=this._vBoundaries,d=this.axis,e=m(b.width)&&a.maxWidth&&a.maxWidth<b.width,g=m(b.height)&&a.maxHeight&&a.maxHeight<b.height,k=m(b.width)&&a.minWidth&&a.minWidth>b.width,h=m(b.height)&&a.minHeight&&a.minHeight>b.height;k&&(b.width=a.minWidth);h&&(b.height=a.minHeight);e&&(b.width=a.maxWidth);g&&(b.height=a.maxHeight);var l=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height,q=/sw|nw|w/.test(d),d=/nw|ne|n/.test(d);k&&q&&(b.left=l-a.minWidth);e&&q&&(b.left=
l-a.maxWidth);h&&d&&(b.top=p-a.minHeight);g&&d&&(b.top=p-a.maxHeight);(a=!b.width&&!b.height)&&!b.left&&b.top?b.top=null:a&&!b.top&&b.left&&(b.left=null);return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var a=this._proportionallyResizeElements[c];if(!this.borderDif){var d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],
f=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];this.borderDif=e.map(d,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}e.browser.msie&&(e(b).is(":hidden")||e(b).parents(":hidden").length)||a.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||
e('<div style="overflow:hidden;"></div>');var c=e.browser.msie&&7>e.browser.version,a=c?1:0,c=c?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+c,height:this.element.outerHeight()+c,position:"absolute",left:this.elementOffset.left-a+"px",top:this.elementOffset.top-a+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,c,a){return{width:this.originalSize.width+c}},w:function(b,c,a){return{left:this.originalPosition.left+
c,width:this.originalSize.width-c}},n:function(b,c,a){return{top:this.originalPosition.top+a,height:this.originalSize.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(b,c,a){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,a]))},sw:function(b,c,a){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,a]))},ne:function(b,c,a){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,
[b,c,a]))},nw:function(b,c,a){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,a]))}},_propagate:function(b,c){e.ui.plugin.call(this,b,[c,this.ui()]);"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.extend(e.ui.resizable,{version:"@VERSION"});e.ui.plugin.add("resizable",
"alsoResize",{start:function(b,c){var a=e(this).data("resizable").options,d=function(a){e(a).each(function(){var a=e(this);a.data("resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?d(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],d(a.alsoResize)):e.each(a.alsoResize,function(a){d(a)})},resize:function(b,c){var a=e(this).data("resizable"),
d=a.options,f=a.originalSize,g=a.originalPosition,k={height:a.size.height-f.height||0,width:a.size.width-f.width||0,top:a.position.top-g.top||0,left:a.position.left-g.left||0},h=function(a,b){e(a).each(function(){var a=e(this),d=e(this).data("resizable-alsoresize"),f={},g=b&&b.length?b:a.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(g,function(a,b){var c=(d[b]||0)+(k[b]||0);c&&0<=c&&(f[b]=c||null)});a.css(f)})};"object"!=typeof d.alsoResize||d.alsoResize.nodeType?
h(d.alsoResize):e.each(d.alsoResize,function(a,b){h(a,b)})},stop:function(b,c){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","animate",{stop:function(b,c){var a=e(this).data("resizable"),d=a.options,f=a._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),k=g&&e.ui.hasScroll(f[0],"left")?0:a.sizeDiff.height,g={width:a.size.width-(g?0:a.sizeDiff.width),height:a.size.height-k},k=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||
null,h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(g,h&&k?{top:h,left:k}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var c={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};f&&f.length&&e(f[0]).css({width:c.width,height:c.height});a._updateCache(c);a._propagate("resize",b)}})}});e.ui.plugin.add("resizable",
"containment",{start:function(b,c){var a=e(this).data("resizable"),d=a.element,f=a.options.containment;if(d=f instanceof e?f.get(0):/parent/.test(f)?d.parent().get(0):f)if(a.containerElement=e(d),/document/.test(f)||f==document)a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var g=e(d),k=[];e(["Top","Right","Left","Bottom"]).each(function(a,
b){k[a]=n(g.css("padding"+b))});a.containerOffset=g.offset();a.containerPosition=g.position();a.containerSize={height:g.innerHeight()-k[3],width:g.innerWidth()-k[1]};var f=a.containerOffset,h=a.containerSize.height,l=a.containerSize.width,l=e.ui.hasScroll(d,"left")?d.scrollWidth:l,h=e.ui.hasScroll(d)?d.scrollHeight:h;a.parentData={element:d,left:f.left,top:f.top,width:l,height:h}}},resize:function(b,c){var a=e(this).data("resizable"),d=a.options,f=a.containerOffset,g=a.position,k=a._aspectRatio||
b.shiftKey,h={top:0,left:0},l=a.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(h=f);g.left<(a._helper?f.left:0)&&(a.size.width+=a._helper?a.position.left-f.left:a.position.left-h.left,k&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=d.helper?f.left:0);g.top<(a._helper?f.top:0)&&(a.size.height+=a._helper?a.position.top-f.top:a.position.top,k&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?f.top:0);a.offset.left=a.parentData.left+a.position.left;
a.offset.top=a.parentData.top+a.position.top;d=Math.abs(a.offset.left-h.left+a.sizeDiff.width);f=Math.abs((a._helper?a.offset.top-h.top:a.offset.top-f.top)+a.sizeDiff.height);h=a.containerElement.get(0)==a.element.parent().get(0);g=/relative|absolute/.test(a.containerElement.css("position"));h&&g&&(d-=a.parentData.left);d+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-d,k&&(a.size.height=a.size.width/a.aspectRatio));f+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-
f,k&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(b,c){var a=e(this).data("resizable"),d=a.options,f=a.containerOffset,g=a.containerPosition,k=a.containerElement,h=e(a.helper),l=h.offset(),m=h.outerWidth()-a.sizeDiff.width,h=h.outerHeight()-a.sizeDiff.height;a._helper&&!d.animate&&/relative/.test(k.css("position"))&&e(this).css({left:l.left-g.left-f.left,width:m,height:h});a._helper&&!d.animate&&/static/.test(k.css("position"))&&e(this).css({left:l.left-g.left-f.left,width:m,height:h})}});
e.ui.plugin.add("resizable","ghost",{start:function(b,c){var a=e(this).data("resizable"),d=a.options,f=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:"");a.ghost.appendTo(a.helper)},resize:function(b,c){var a=e(this).data("resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},
stop:function(b,c){var a=e(this).data("resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(b,c){var a=e(this).data("resizable"),d=a.options,f=a.size,g=a.originalSize,k=a.originalPosition,h=a.axis;d.grid="number"==typeof d.grid?[d.grid,d.grid]:d.grid;var l=Math.round((f.width-g.width)/(d.grid[0]||1))*(d.grid[0]||1),d=Math.round((f.height-g.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(h)?(a.size.width=g.width+
l,a.size.height=g.height+d):/^(ne)$/.test(h)?(a.size.width=g.width+l,a.size.height=g.height+d,a.position.top=k.top-d):(/^(sw)$/.test(h)?(a.size.width=g.width+l,a.size.height=g.height+d):(a.size.width=g.width+l,a.size.height=g.height+d,a.position.top=k.top-d),a.position.left=k.left-l)}});var n=function(b){return parseInt(b,10)||0},m=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
